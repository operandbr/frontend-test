{"remainingRequest":"/home/rodrigo/frontend-test/node_modules/babel-loader/lib/index.js!/home/rodrigo/frontend-test/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/rodrigo/frontend-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rodrigo/frontend-test/src/components/UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rodrigo/frontend-test/src/components/UserList.vue","mtime":1644787381950},{"path":"/home/rodrigo/frontend-test/babel.config.js","mtime":1644778100802},{"path":"/home/rodrigo/frontend-test/node_modules/cache-loader/dist/cjs.js","mtime":1644778096874},{"path":"/home/rodrigo/frontend-test/node_modules/babel-loader/lib/index.js","mtime":1644778097494},{"path":"/home/rodrigo/frontend-test/node_modules/cache-loader/dist/cjs.js","mtime":1644778096874},{"path":"/home/rodrigo/frontend-test/node_modules/vue-loader/lib/index.js","mtime":1644778097662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBkYiB9IGZyb20gJy4uL2ZpcmViYXNlRGInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykub25TbmFwc2hvdChmdW5jdGlvbiAoc25hcHNob3RDaGFuZ2UpIHsKICAgICAgX3RoaXMudXNlcnMgPSBbXTsKICAgICAgc25hcHNob3RDaGFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgX3RoaXMudXNlcnMucHVzaCh7CiAgICAgICAgICBrZXk6IGRvYy5pZCwKICAgICAgICAgIG5hbWU6IGRvYy5kYXRhKCkubmFtZSwKICAgICAgICAgIGVtYWlsOiBkb2MuZGF0YSgpLmVtYWlsLAogICAgICAgICAgcGhvbmU6IGRvYy5kYXRhKCkucGhvbmUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQpIHsKICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdEZXNlamEgcmVhbG1lbnRlIGRlbGV0YXIgbyB1c3XDoXJpbz8nKSkgewogICAgICAgIGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKGlkKVsiZGVsZXRlIl0oKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdVc3XDoXJpbyBkZWxldGFkbyEnKTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AAEA;AACAA,MADA,kBACA;AACA;AACAC;AADA;AAGA,GALA;AAMAC,SANA,qBAMA;AAAA;;AACAC;AACA;AACAC;AACA;AACAC,qBADA;AAEAC,+BAFA;AAGAC,iCAHA;AAIAC;AAJA;AAMA,OAPA;AAQA,KAVA;AAWA,GAlBA;AAmBAC;AACAC,cADA,sBACAC,EADA,EACA;AACA;AACAR;AACAS;AACA,SAFA,WAGA;AACAA;AACA,SALA;AAMA;AACA;AAVA;AAnBA","names":["data","users","created","db","snapshotChange","key","name","email","phone","methods","deleteUser","id","console"],"sourceRoot":"src/components","sources":["UserList.vue"],"sourcesContent":["<template>\n    <div class=\"row container\">\n        <div class=\"col-md-12\">\n            <table class=\"table table-striped\">\n                <thead>\n                    <tr>\n                        <th>Nome</th>\n                        <th>E-mail</th>\n                        <th>Telefone</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"user in users\" :key=\"user.key\">\n                        <td>{{ user.name }}</td>\n                        <td>{{ user.email }}</td>\n                        <td>{{ user.phone }}</td>\n                        <td>\n                            <router-link :to=\"{name: 'edit', params: { id: user.key }}\" class=\"btn btn-primary\">Editar\n                            </router-link>\n                            <button @click.prevent=\"deleteUser(user.key)\" class=\"btn btn-danger\">Deletar</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { db } from '../firebaseDb'\n\nexport default {\n  data () {\n    return {\n      users: []\n    }\n  },\n  created () {\n    db.collection('users').onSnapshot((snapshotChange) => {\n      this.users = []\n      snapshotChange.forEach((doc) => {\n        this.users.push({\n          key: doc.id,\n          name: doc.data().name,\n          email: doc.data().email,\n          phone: doc.data().phone\n        })\n      })\n    })\n  },\n  methods: {\n    deleteUser (id) {\n      if (window.confirm('Deseja realmente deletar o usuário?')) {\n        db.collection('users').doc(id).delete().then(() => {\n          console.log('Usuário deletado!')\n        })\n          .catch((error) => {\n            console.error(error)\n          })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .table {\n    color: white;\n    tbody tr td {\n      color: white;\n      }\n  }\n  .btn-primary {\n    margin-right: 12px;\n  }\n</style>\n"]}]}