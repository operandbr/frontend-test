{"remainingRequest":"/home/rodrigo/vue-crud-firebase/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rodrigo/vue-crud-firebase/src/components/UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rodrigo/vue-crud-firebase/src/components/UserList.vue","mtime":1644779908974},{"path":"/home/rodrigo/vue-crud-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1644778096874},{"path":"/home/rodrigo/vue-crud-firebase/node_modules/babel-loader/lib/index.js","mtime":1644778097494},{"path":"/home/rodrigo/vue-crud-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1644778096874},{"path":"/home/rodrigo/vue-crud-firebase/node_modules/vue-loader/lib/index.js","mtime":1644778097662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vZmlyZWJhc2VEYicKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIFVzZXJzOiBbXQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLm9uU25hcHNob3QoKHNuYXBzaG90Q2hhbmdlKSA9PiB7CiAgICAgIHRoaXMuVXNlcnMgPSBbXQogICAgICBzbmFwc2hvdENoYW5nZS5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICB0aGlzLlVzZXJzLnB1c2goewogICAgICAgICAga2V5OiBkb2MuaWQsCiAgICAgICAgICBuYW1lOiBkb2MuZGF0YSgpLm5hbWUsCiAgICAgICAgICBlbWFpbDogZG9jLmRhdGEoKS5lbWFpbCwKICAgICAgICAgIHBob25lOiBkb2MuZGF0YSgpLnBob25lCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVVc2VyIChpZCkgewogICAgICBpZiAod2luZG93LmNvbmZpcm0oJ0RvIHlvdSByZWFsbHkgd2FudCB0byBkZWxldGU/JykpIHsKICAgICAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhpZCkuZGVsZXRlKCkudGhlbigoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnRG9jdW1lbnQgZGVsZXRlZCEnKQogICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICB9KQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["UserList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <table class=\"table table-striped\">\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Email</th>\n                        <th>Phone</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"user in Users\" :key=\"user.key\">\n                        <td>{{ user.name }}</td>\n                        <td>{{ user.email }}</td>\n                        <td>{{ user.phone }}</td>\n                        <td>\n                            <router-link :to=\"{name: 'edit', params: { id: user.key }}\" class=\"btn btn-primary\">Edit\n                            </router-link>\n                            <button @click.prevent=\"deleteUser(user.key)\" class=\"btn btn-danger\">Delete</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { db } from '../firebaseDb'\n\nexport default {\n  data () {\n    return {\n      Users: []\n    }\n  },\n  created () {\n    db.collection('users').onSnapshot((snapshotChange) => {\n      this.Users = []\n      snapshotChange.forEach((doc) => {\n        this.Users.push({\n          key: doc.id,\n          name: doc.data().name,\n          email: doc.data().email,\n          phone: doc.data().phone\n        })\n      })\n    })\n  },\n  methods: {\n    deleteUser (id) {\n      if (window.confirm('Do you really want to delete?')) {\n        db.collection('users').doc(id).delete().then(() => {\n          console.log('Document deleted!')\n        })\n          .catch((error) => {\n            console.error(error)\n          })\n      }\n    }\n  }\n}\n</script>\n\n<style>\n    .btn-primary {\n        margin-right: 12px;\n    }\n</style>\n"]}]}